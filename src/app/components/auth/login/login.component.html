<div class="d-lg-flex half">
    <div class="bg order-1 order-md-2" [ngStyle]="{ backgroundImage: 'url(assets/images/car-repair.jpg)'}"></div>
    <div class="contents order-2 order-md-1">
      <div class="container">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-7">
            <h3>Login to <strong>G-A</strong></h3>
            <p class="mb-4">Reparer votre voiture en quelque clique sur G-A</p>
            <form [formGroup]="loginForm">
              <div class="form-group first">
                <label for="username">Username</label>
                <input type="text" class="form-control" formControlName="email"  placeholder="your-email@gmail.com" id="username" required>
                <div class="pl-1" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.errors && (loginForm.get('email')?.dirty || loginForm.get('email')?.touched)">
                    <small class="text-danger" *ngIf="loginForm.get('email')?.hasError('required')"> Le champ est requis.</small>
                    <small class="text-danger" *ngIf="loginForm.get('email')?.hasError('pattern')">Entrer une email valide</small>
                </div>
              </div>
              <div class="form-group first">
                <label for="username">Role</label>
                <select class="form-control" formControlName="role">
                    <option *ngFor="let role of user_roles">{{role.role}}</option>
                </select>
                <div class="pl-1" *ngIf="loginForm.get('role')?.invalid && loginForm.get('role')?.errors && (loginForm.get('role')?.dirty || loginForm.get('role')?.touched)">
                    <small class="text-danger" *ngIf="loginForm.get('email')?.hasError('required')"> Le champ est requis.</small>
                    <small class="text-danger" *ngIf="loginForm.get('email')?.hasError('pattern')">Entrer une email valide</small>
                </div>
              </div>
              <div class="form-group last mb-3">
                <label for="password">Password</label>
                <input type="password" class="form-control" formControlName="password" placeholder="Your Password" [type]="hide ? 'password' : 'text'" id="password">
                <span class="eye-icon" *ngIf="!hide" (click)="onHidePass(hide)"><i class="fa fa-eye" aria-hidden="true"></i></span>
                <span class="eye-slash-icon" *ngIf="hide" (click)="onHidePass(hide)"><i class="fa fa-eye-slash" aria-hidden="true"></i></span>
                <div class="pl-1" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.errors && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)">
                    <small class="text-danger" *ngIf="loginForm.get('password')?.hasError('required')"> Le champ est requis.</small>
                </div>
              </div>
              
              <div class="d-flex mb-5 align-items-center" style="height: 14px;">
                <!-- <label class="control control--checkbox mb-0"><span class="caption">Remember me</span>
                  <input type="checkbox" checked="checked"/>
                  <div class="control__indicator"></div>
                </label>
                <span class="ml-auto"><a href="#" class="forgot-pass">Forgot Password</a></span>  -->
              </div>
              <input *ngIf="!loading.login" type="submit" [disabled]="this.loginForm.invalid" (click)="utils.onSubmitForm(this.loginForm , loading)" value="Log In" class="btn btn-block btn-secondary">
              <button *ngIf="loading.login" type="button" disabled class="btn btn-block btn-secondary">
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Loading...
              </button>
            </form>
            <div class="text-center p-t-46 p-b-20 mt-3">
                <span class="txt2">
                    You don't have a acount ?  
                </span>
                <span><a [routerLink]="['/signup']">Signup</a></span>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>